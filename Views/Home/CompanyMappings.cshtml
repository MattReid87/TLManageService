@model CompanyMappingViewModel
@{
    ViewData["Title"] = "Company Mapping";
}

    <div class="card card-body bg-light">
        <h4>@ViewData["Title"]</h4>
        <form method="post">

            @for (int i = 0; i < Model.ThreatLockerOrganizations.Count; i++)
            {
                <div class="row">
                    <div class="col">
                        @Model.ThreatLockerOrganizations[i].Name
                    </div>
                    <div class="col">
                        @Html.HiddenFor(x => x.ThreatLockerOrganizations[i].OrganizationId)
                        @Html.HiddenFor(x => x.ThreatLockerOrganizations[i].Name)
                        @Html.DropDownListFor(model => Model.ThreatLockerOrganizations[i].ManageCompanyId, new SelectList(ViewBag.ManageCompanyList, "Id", "Name", @Model.ThreatLockerOrganizations[i].ManageCompanyId))
                    </div>
                </div>
            }
            <div class="row">
                <div class="col">
                    Catch-All Company
                </div>
                <div class="col">
                    @Html.HiddenFor(x => x.DefaultOrganization.OrganizationId)
                    @Html.HiddenFor(x => x.DefaultOrganization.Name)
                    @Html.DropDownListFor(model => Model.DefaultOrganization.ManageCompanyId, new SelectList(ViewBag.ManageCompanyList, "Id", "Name", @Model.DefaultOrganization.ManageCompanyId))
                </div>
            </div>
            <div class="form-group">
                <input id="Submit" type="submit" value="Save" class="btn btn-primary">
                <div>@ViewBag.UserMessage</div>
            </div>
        </form>
    </div>